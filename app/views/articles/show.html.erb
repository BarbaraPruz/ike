
<div class="row outlined-section">
    <div class="col-sm-8">
        <h2 id="article_title"><%= @article.title %></h2>
        <form >    
            <input type="hidden" id="article_ids" name="article_ids" value=<%= @topic_articles.join(',') %>>
            <input type="hidden" id="article_id" name="article_id" value=<%= @article.id %>>    
            <input id="next" type="submit"  class="btn btn-primary btn-sm" value="Next Article in Topic: <%=@article.topic.name%>" />         
        </form>
    </div>
    <div class="col-sm-4">
        <div class="row">       
            <form id="create_bookmark">
                <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
                <input type="hidden" name="user_id" value="<%= @current_user.id %>">
                <label>
                    Bookmark 
                    <input id="bookmark_title" name="bookmark_title" type="text" placeholder="bookmark name">
                </label>            
                <input type="submit" class="btn btn-primary btn-sm" value="Create">                         
            </form>    
        </div> 
        <div class="row">
            <form id="like">
                <label>Helpful Count:<span id="article_helpful_count"><%=@article.helpful_count%> </span><label>
                <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-thumbs-up" ></i>
                </button>
            </form>
        </div>                
    </div>
</div>
<% if is_admin? %>
    <div class="indent">
        <p>
            <strong>Article Admin:</strong>
            <%= link_to "Delete", { :controller => 'articles',  :action=>"destroy", 
            :id => @article.id, :topic_id => @article.topic_id} , :method => :delete,
            :class => "btn btn-warning" %>
            <%= link_to "Edit", { :controller => 'articles',  :action=>"edit", 
            :id => @article.id, :topic_id => @article.topic_id}, 
            :class => "btn btn-info" %>
        </p>
    </div>
<% end %> 

<div id="article_content" class="indent">
    <%= sanitize @article.content %>
</div>

<div id="comments" class="indent">
    <h3>Comments</h3>
    <div id="comments_detail">
        <% @article.comments.each do |comment| %>
            <div class="indent">
                <div class="mb-0"><%= sanitize comment.content %></div>
                <h5 class="mt-0"><%= comment.author_name %> on <%= format_time(comment.created_at) %></h5>  
            </div>
        <% end %>
    </div>

    <h3>Add Comment</h3>
    <form id="new_comment">
        <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
        <input type="hidden" name="user_id" value="<%= @current_user.id %>">        
        <textarea name="content" id="content" rows="5" cols="70"></textarea>
        <input type="submit"  value="Add Comment">  
    </form>   
</div>
<%= javascript_include_tag('article_show.js') %>
