<%= form_for article, url: {action: form_action, params: {id: article.id}} do |f|%>
    <% if article.errors.any? %>
        <div id="error_explanation">
        <h2>oops, there seem to be some problems:</h2>
        <ul>
            <% article.errors.full_messages.each do |message| %>
            <li><%= message %></li>
            <% end %>
        </ul>, :url => :action => 'myaction'
        </div>
    <% end %>
    <div class="form-group <%= 'has-error' if article.errors.has_key?(:title) %>">
        <%= f.label :title %>
        <%= f.text_field :title %>
    </div>
    <div class="form-group <%= 'has-error' if @article.errors.has_key?(:topic_id) %>">
        <%= f.label :topic %>
        <%= f.text_field  :new_topic, placeholder: "New Topic" %>
        <%= f.select("topic_id", @topics.collect {|t| [ t.name, t.id ] }, {include_blank: 'select topic'})%>
    </div>  
    <div class="form-group <%= 'has-error' if @article.errors.has_key?(:content) %>">
        <%= f.label :content %>
        <%= f.text_area :content, :class => "tinymce", :rows => 40, :cols => 120 %>
        <%= tinymce %>
    </div>
    <%= f.submit 'Submit' %>
<% end %>