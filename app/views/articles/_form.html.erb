<div class="indent outlined-section">
    <%= form_for article, url: {action: form_action, params: {id: article.id}} do |f|%>
        <% if article.errors.any? %>
            <div id="error_explanation">
            <h2>oops, there seem to be some problems:</h2>
            <ul>
                <% article.errors.full_messages.each do |message| %>
                <li><%= message %></li>
                <% end %>
            </ul>, :url => :action => 'myaction'
            </div>
        <% end %>

        <div class="row">
            <div class="form-group <%= 'has-error' if article.errors.has_key?(:title) %>">
                <div class="col-sm-2"><%= f.label :title %></div>
                <div class="col-sm-10"><%= f.text_field :title %></div>
            </div>
        </div>

        <div class="row">
            <div class="form-group <%= 'has-error' if @article.errors.has_key?(:topic_id) %>">
                <div class="col-sm-2"><%= f.label :topic %></div>
                <div class="col-sm-10">
                    <%= f.text_field  :new_topic, placeholder: "New Topic" %>
                    <%= f.select("topic_id", @topics.collect {|t| [ t.name, t.id ] }, {include_blank: 'select topic'})%>
                </div>
            </div>
        </div>

        <div class="form-group <%= 'has-error' if @article.errors.has_key?(:content) %>">
            <%= f.text_area :content, :class => "tinymce", :rows => 10, :cols => 90 %>
            <%= tinymce %>
        </div>

        <div class="row">
            <div class="col-sm-5"></div>
            <div class="col-sm-2">
                <%= f.submit 'Submit', :class => "btn btn-primary btn-block" %>
            </div>
        </div>

    <% end %>
</div>